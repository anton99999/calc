<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#000000"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <link rel="shortcut icon" href="icon/logo.png" type="image/png">
    <link rel="apple-touch-icon" href="icon/logo.png">
    <link rel="manifest" href="manifest.json" />
    <script src="sw.js"></script>
    <script src="sw-reg.js"></script>
    <title>CALCULATOR</title>
    <style>
        *{margin: 0; user-select: none;}
        @font-face{
            font-family: Aire Exterior;
            src: url(font/AireExterior.ttf);
        }
        @font-face{
            font-family: Technology;
            src: url(font/Technology-Bold.ttf);
        }
        body{
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(180deg, #CEC898 0%, #C5C2AB 34.17%, #BCB786 68.02%, #C4BF8F 100%);
        }
        .name{
            display: flex;
            align-items: center;
            width: 310px;
            height: 40px;
            background: #505050;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .name p{
            margin-left: 10px;
            font-family: Montserrat;
            font-weight: 900;
            font-size: 18px;
            opacity: 0.65;
            color: white;
        }
        .num{
            display: flex;
            justify-content: center;
            align-items: center;

            width: 310px;
            height: 80px;
            background: #505050;
            box-shadow: inset 0px 0px 1px 8px rgba(0, 0, 0, 0.25);
            border-radius: 5px;
            margin-bottom: 20px;

        }
        .numGreen{
            display: flex;
            justify-content: flex-end;
            align-items: center;
            width: 270px;
            height: 60px;
            background: #698064;
        }
        .num p{
            margin-right: 10px;
            margin-top: 10px;
            font-family: Technology;
            font-size: 64px;
            color: #000000;
        }
        .btn{
            display: flex;
        } 
        .btn p{
            align-self: center;
            user-select: none;
        } 
        .top div, .center div, .down div, .right div{
            display: flex;
            justify-content: center;
            border-radius: 10px;
            flex-basis: 65px;
            font-family: Aire Exterior;
            font-size: 36px;
            color: rgba(255, 255, 255, 0.5);
            border: 2.5px solid #000000;
        }
        .top{
            width: 230px;
            height: 70px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .center{
            margin-top: 10px;
            width: 230px;
            height: 230px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .down{
            margin-top: 10px;
            width: 230px;
            height: 70px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .right{
            margin-left: 10px;
            width: 70px;
            height: 390px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .btn_e{
            flex-grow: 3;
        }
        .btn_0{
            flex-grow: 2;
             
        }
        .btn_1, .btn_2, .btn_3, .btn_4, .btn_5, .btn_6, .btn_7, .btn_8, .btn_9, .btn_0, .btn_p{
            background: linear-gradient(90deg, #2E2E2E 0%, #3E3E3E 100%);
            box-shadow: 5px 5px 5px rgba(11, 11, 11, 0.24), inset -7px 0px 3px #2C2C2C, inset 7px 0px 3px #404040;
        }
        .btn_e, .btn_c{
            background: linear-gradient(90deg, #923838 0%, #BE4848 100%);
            box-shadow: 5px 5px 5px rgba(34, 13, 13, 0.212), inset -7px 0px 3px #8C3535, inset 7px 0px 3px #C44B4B;
        }
        .btn_m, .btn_d, .btn_a, .btn_s{
            background: linear-gradient(90deg, #265B78 0%, #3279A1 100%);
            box-shadow: 5px 5px 5px rgba(9, 22, 29, 0.24), inset -7px 0px 3px #245673, inset 7px 0px 3px #347DA6;
        }
        .btn_0 p{
            margin-left: 70px;
        }
        .btn_e p{
            margin-bottom: 160px;
        }
        .setting{
            display: flex;
        }
        .vibro, .zvuk{
            display: flex;
            align-items: center;
            margin-top: 20px;
            margin-right: 10px;
            width: 110px;
            height: 30px;

            background: #D6D6D6;
            border: 1px solid #666666;
            box-sizing: border-box;
            box-shadow: 5px 5px 10px rgba(43, 43, 43, 0.247), inset -2px -2px 3px #C5C5C5, inset 2px 2px 3px #E3E3E3;
            border-radius: 30px;
        }
        .on{
            margin-left: 10px;
            width: 10px;
            height: 10px;
            background: #24FF00;
            box-shadow: 0px 0px 5px #4AF22F;
            border-radius: 50px;
        }
        .vibro p, .zvuk p{
            margin-left: 10px;

            font-family: Montserrat;
            font-weight: 900;
            font-size: 18px;
            text-transform: uppercase;

            color: #7a7a7a;

        }
        .off{
            margin-left: 10px;
            width: 10px;
            height: 10px;
            background: #128600;
            border-radius: 50px;
        }
    </style>
</head>
<body>
    <div class="vse">

        <div class="name"><p>КАЛЬКУЛЯТОР КА-28</p></div>

        <div class="num"><div class="numGreen"><p>0</p></div></div>

        <div class="btn">
            <div class="left">
                <div class="top">
                    <div class="btn_c" onclick="clr()"  >   <p>C</p> </div>
                    <div class="btn_m" onclick="op('*')">   <p>*</p> </div>
                    <div class="btn_d" onclick="op('/')">   <p>/</p> </div>
                </div>
                <div class="center">
                    <div class="btn_7" onclick="func(7)">   <p>7</p> </div>
                    <div class="btn_8" onclick="func(8)">   <p>8</p> </div>
                    <div class="btn_9" onclick="func(9)">   <p>9</p> </div>
                    
                    <div class="btn_4" onclick="func(4)">   <p>4</p> </div>
                    <div class="btn_5" onclick="func(5)">   <p>5</p> </div>
                    <div class="btn_6" onclick="func(6)">   <p>6</p> </div>
 
                    <div class="btn_1" onclick="func(1)">   <p>1</p> </div>
                    <div class="btn_2" onclick="func(2)">   <p>2</p> </div>
                    <div class="btn_3" onclick="func(3)">   <p>3</p> </div>
                </div>
                <div class="down">
                    <div class="btn_p" onclick="func('.')"> <p>.</p> </div>
                    <div class="btn_0" onclick="func(0)"  > <p>0</p> </div>
                </div>
            </div>
            <div class="right">
                <div class="btn_a" onclick="op('+')">       <p>+</p> </div>
                <div class="btn_s" onclick="op('-')">       <p>-</p> </div>
                <div class="btn_e" onclick="e()"    >       <p>=</p> </div>
            </div>

        </div>

        <div class="setting">
            <div class="vibro">
                <div></div>
                <p>вібро</p>
            </div>
            <div class="zvuk">
                <div></div>
                <p>звук</p>
            </div>
        </div>

    </div>
    <script>
        var num1;
        var num2;
        var oper;
        var vib   = 50;
        var size  = 64;
        var sound = new Audio;
        sound.src = "click.mp3";
        


        function func(index){
            num = $('.num p')
            if(num.text() == '0'){
                num.text('')
            }

            num.text(num.text() + index);
            window.navigator.vibrate(vib);
            sound.currentTime = 0
            sound.play();

            if($('.numGreen p').width() >= 250){
                size-=4
                $('.numGreen p').css('font-size', size)
            }
        }


        function clr(){
            $('.num p').text('0');
            window.navigator.vibrate(vib);
            sound.currentTime = 0
            sound.play();
            size = 64
            $('.num p').css('font-size', size)
        }


        function op(index){
            num1 = $('.num p').text();
            oper = index;
            size = 64
            $('.num p').css('font-size', size)
            $('.num p').text('0');
            window.navigator.vibrate(vib);
            sound.currentTime = 0
            sound.play();
        }


        function e(){
            num2 = $('.num p').text();
            
            if(oper == '+'){
                eee  = Number(num1) +  Number(num2);
                $('.num p').text(eee);
            }
            if(oper == '-'){
                eee  = Number(num1) - Number(num2);
                $('.num p').text(eee);
            }
            if(oper == '*'){
                eee  = Number(num1) * Number(num2);
                $('.num p').text(eee);
            }
            if(oper == '/'){
                eee  = Number(num1) / Number(num2);
                $('.num p').text(eee);
            }

            window.navigator.vibrate(vib);
            sound.currentTime = 0
            sound.play();

            if($('.numGreen p').width() >= 250){
                size-=4
                $('.numGreen p').css('font-size', size)
            }
        }



        if(localStorage.getItem('vib') == null && 
           localStorage.getItem('vol') == null)
        {
            localStorage.setItem('vib', 50)
            localStorage.setItem('vol', 1)
        }

        vib = localStorage.getItem('vib')
        vol = localStorage.getItem('vol')

        if(vib == 50){$('.vibro div').addClass('on'); }
        else{$('.vibro div').addClass('off'); }

        if(vol == 1){$('.zvuk div').addClass('on'); sound.volume = 1}
        else{$('.zvuk div').addClass('off'); sound.volume = 0}
        

        $('.vibro').click(function(){
            if(vib == 0){
                $('.vibro div').removeClass('off')
                $('.vibro div').addClass('on')
                vib = 50
                localStorage.setItem('vib', vib)
            }
            else{
                $('.vibro div').removeClass('on')
                $('.vibro div').addClass('off')
                vib = 0
                localStorage.setItem('vib', vib)
            }
        })

        $('.zvuk').click(function(){
            if(vol == 0){
                $('.zvuk div').removeClass('off')
                $('.zvuk div').addClass('on')
                sound.volume = 1
                vol = 1
                localStorage.setItem('vol', vol)
            }
            else{
                $('.zvuk div').removeClass('on')
                $('.zvuk div').addClass('off')
                sound.volume = 0
                vol = 0
                localStorage.setItem('vol', vol)
        }
})





</script>
</body>
</html>
